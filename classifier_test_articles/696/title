Ruling by Attorney General Barr means thousands more migrants may wait months in detention