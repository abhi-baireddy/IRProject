Amazon has decided to shut down all of its fulfillment centers in France after a French court ruled the company could be fined €1 million per item for shipping anything not directly related to medical supplies, hygiene products, and food items. The company, which plans to appeal the ruling, says that at the moment the “risk [is] too high” that it will run afoul of the ruling due to complexities in its warehouse operations. The shutdown will last from at least April 16th to April 20th. Reuters originally published the news on Wednesday morning.

“Following the judgement of a French court on Tuesday, we have to temporarily suspend operations in our Fulfilment Centres in France. This is in spite of the huge investment we made in additional safety measures to keep our hard-working, dedicated colleagues safe, while ensuring they had continued employment at this difficult time,” an Amazon spokesperson tells The Verge in statement. “Our FC operations are complex and varied, and with the punitive 1M euro per incident fines imposed by the court, the risk was too high. We remain perplexed by the court’s decision, which was made in spite of the overwhelming evidence we provided about the safety measures we have implemented, and have launched an appeal.”

“with the punitive 1M euro per incident fines imposed by the court, the risk was too high”

Amazon has come under fire both in the US and overseas for its handling of health and safety concerns during the COVID-19 pandemic. The health crisis has only made the e-commerce giant’s services more vital as people shelter at home and rely more on online ordering and delivery of household goods, food, and other items. But more than 50 Amazon-owned facilities have confirmed COVID-19 cases, according to the Financial Times, and the company is now building its own testing lab to try to keep its operations running amid panic surrounding the virus’s rapid spread through its warehouses.

Throughout the crisis, Amazon has been criticized by workers, activists, and politicians for not properly communicating to warehouse workers when a co-worker has been diagnosed with the illness and for not taking enough precautionary measures to prevent the illness from spreading by closing down facilities and deep cleaning them. In some cases, Amazon workers say they only hear about a COVID-19 diagnosis from co-workers, and in Kentucky, the governor ordered Amazon to keep its returns facility closed after numerous confirmed cases among the workforce.

According to Amazon, the Kentucky warehouse reopened on April 1st. The company provided this statement to The Verge regarding its measures to ensure employee health and safety:

Nothing is more important than the health and safety of our teams. Since the early days of this situation, we have worked closely with health authorities to proactively respond, ensuring we continue to serve people while taking care of our associates and teams. We have also implemented proactive measures at our facilities to protect employees, including mandatory social distancing, adding distance between drivers and people in the community when making deliveries, and providing masks for everyone to use, as we remain committed to keeping our teams healthy and safe.

In one particularly high-profile controversy, Amazon also fired a warehouse worker in New York City who organized a protest against the company’s handling of health and safety issues related to COVID-19. The situation, in which Amazon claimed the worker violated the company’s self-isolation guidelines to attend the protest, drew the attention of Sen. Bernie Sanders (D-VT) and accusations of retaliation. It was later discovered Amazon executives internally discussed how to smear the organizer in the media.

In France, the Union Syndicale Solidaires trade union filed complaints pushing for more oversight of Amazon’s handling of health issues during the pandemic and calling for the closure of facilities due to overcrowding. Amazon now says it is asking its fulfillment center workers to stay home. Amazon employs about 10,000 people in warehouses in France, according to Reuters.

“In the mean-time, we are working through what this court’s decision means for them and our French operation,” the statement reads. “While we will do our best to minimize the impact on French small businesses, those who depend on our FC network to deliver their products will be negatively impacted by this ruling.”

Amazon says it will continue to serve French customers using its Marketplace sellers and “robust global fulfillment network.” However, it’s not clear if that means French customers will have to order from Marketplace sellers outside the country and have those products shipped in without routing through a warehouse, or if French Marketplace sellers will be able to ship the items directly or through an Amazon partner.

Update April 15th, 5:05PM ET: Added additional comment from Amazon regarding its measures to protect employees during COVID-19.